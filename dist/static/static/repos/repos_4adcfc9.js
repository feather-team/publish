define("static/repos/repos.js",function(e,t,s){var o=e("components/vue/vue.js"),r=e("widget/tasks/tasks.js");e("components/vue-resource/vue-resource.js"),s.exports=new o({el:"#addRepo",data:{isLoading:!1,repo_btn:"添加",show_errmsg:!1,repo_errmsg:"",repo_address:"",groups:{}},ready:function(){var e=this;e.fetchRepos(),r.$on("update",function(){e.fetchRepos()})},methods:{fetchRepos:function(){this.$http.get("/repo/list").then(function(e){return e.json()}).then(function(e){0==e.code?this.$set("groups",e.data):alert(res.message||"未知错误")})},addRepo:function(){if(this.repo_address){if(this.isLoading)return!1;this.$set("isLoading",!0),this.$set("repo_btn","Loading..."),this.$http.post("/repo/add",{address:this.repo_address}).then(function(e){return e.json()}).then(function(e){this.$set("isLoading",!1),this.$set("repo_btn","添加"),0==e.code?(this.fetchRepos(),this.$set("show_errmsg",!1)):(this.$set("show_errmsg",!0),this.$set("repo_errmsg",e.msg))})}},delRepo:function(e){var t=e.target.getAttribute("data-repo");confirm("确定删除仓库"+t+"?")&&this.$http.post("/repo/del",{repo:t}).then(function(e){return e.json()}).then(function(e){0==e.code?this.fetchRepos():alert(e.msg)})}}})});