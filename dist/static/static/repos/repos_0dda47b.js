define("static/repos/repos.js",function(t,e,s){var o=t("components/vue/vue.js"),r=t("widget/tasks/tasks.js"),n=t("components/jquery/jquery.js");t("components/bootstrap/js/bootstrap.js"),t("components/vue-resource/vue-resource.js"),s.exports=new o({el:"#repo-container",data:{isLoading:!1,repo_btn:"添加",show_errmsg:!1,repo_errmsg:"",repo_address:"",groups:{}},ready:function(){var t=this;t.fetchRepos(),r.$on("update",function(){t.fetchRepos()})},methods:{fetchRepos:function(){this.$http.get("/repo/list").then(function(t){return t.json()}).then(function(t){0==t.code?this.$set("groups",t.data):alert(res.message||"未知错误")})},addRepo:function(){if(this.repo_address){if(this.isLoading)return!1;this.$set("isLoading",!0),this.$set("repo_btn","Loading..."),this.$http.post("/repo/add",{address:this.repo_address}).then(function(t){return t.json()}).then(function(t){this.$set("isLoading",!1),this.$set("repo_btn","添加"),0==t.code?(this.fetchRepos(),this.$set("show_errmsg",!1)):(this.$set("show_errmsg",!0),this.$set("repo_errmsg",t.msg))})}},setDelRepo:function(t){n("#del-modal-submit").attr("data-repo",t.target.getAttribute("data-repo"))},delRepo:function(t){var e=t.target.getAttribute("data-repo");this.$http.post("/repo/del",{repo:e}).then(function(t){return t.json()}).then(function(t){0==t.code?this.fetchRepos():alert(t.msg)})}}})});